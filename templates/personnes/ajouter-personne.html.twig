{% extends 'base.html.twig' %}

{% block title %} {{ page }} {% endblock %}

{% block body %}
    <div class="kt-portlet">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
                <h3 class="kt-portlet__head-title">
                    Entrer les informations relatives aux personnes
                </h3>
            </div>
        </div>
        <div class="kt-portlet__body">
            {{ form_start(form, {'attr': {'class': 'kt-form kt-form--label-right ajouter-personne', 'novalidate': 'novalidate' }} ) }}
            <div class="kt-section kt-section--first">
                <div class="kt-section__body">
                    <div class="row">
                        <label class="col-xl-3"></label>
                        <div class="col-lg-9 col-xl-6">
                            <h3 class="kt-section__title kt-section__title-sm"></h3>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.forme_juridique)}}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.forme_juridique) }}
                        </div>
                    </div>
                    <div class="morales-class">
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.numero_registre_commerce) }}</label>
                            <div class="col-lg-4 col-xl-4">
                                {{ form_widget(form.numero_registre_commerce) }}
                            </div>
                            <div class="col-lg-2 col-xl-2">
                                <button type="button" class="btn btn-block btn-bold btn-brand btn-check-nrc">Vérfier le NRC</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.nif) }}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.nif) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.nom)}}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.nom) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.postnom)}}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.postnom) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.prenom)}}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.prenom) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.telephone) }}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.telephone) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.email) }}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.email) }}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.adresse) }}</label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.adresse) }}
                        </div>
                        {# <div class="col-xl-1"> #}
                            <button class="btn btn-brand btn-elevate open-adress">
                                <i class="flaticon-home-2"></i>
                            </button>
                        {# </div> #}
                    </div>
                    <div class="physiques-class">
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.sexe) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.sexe) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.etat_civil) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.etat_civil) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.lieu_de_naissance) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.lieu_de_naissance) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.date_de_naissance) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.date_de_naissance) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.nationalite) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.nationalite) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.profession) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.profession) }}
                            </div>
                        </div>
                    </div>
                    <div class="morales-class">
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.secteur_activites) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.secteur_activites) }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xl-3 col-lg-3 col-form-label">{{ form_label(form.numero_id_nationale) }}</label>
                            <div class="col-lg-9 col-xl-6">
                                {{ form_widget(form.numero_id_nationale) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label"></label>
                        <div class="col-lg-9 col-xl-6">
                            {{ form_widget(form.save) }}
                        </div>
                    </div>

                </div>
            </div>
            {{ form_end(form) }}
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" id="adresse" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="title">Gestion des adresses</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="kt-form kt-form--label-right detail-container">
                        <form action="" class="origine-form">
                            <div class="form-group row">
                                <div class="col-lg-6">
                                    <label class="required"></label>
                                    <select id="form_origine" name="origine" class="form-control">
                                    </select>
                                </div>
                                <div class="col-lg-6">
                                    <label class="required"></label>
                                    <div class="input-group">
                                        <input type="text" name="entite" class="form-control" required="required" placeholder=" Saisir l'entité ">
                                        <div class="input-group-append">
                                            <button class="btn btn-brand search-btn">
                                                <i class="fa fa-search" style="color: white;"></i>
                                            </button>
                                        </div>
                                        <div class="invalid-feedback search-feedback">Ce champ est obligatoire. Veuillez le remplir</div>
                                    </div>
                                </div>
                            </div>
						</form>	
                        <div class="row hidden loader-search justify-content-md-center">
                            <div class="spinner-grow text-primary" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="spinner-grow text-primary" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="spinner-grow text-primary" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                        <div class="navigation">
                            <ul class="nav nav-pills nav-pills-sm" role="tablist">
                            </ul>
                        </div>
                        <div class="tab-content">
                            <div class="tab-pane active" id="kt_tabs_7_1" role="tabpanel">
                                <div id="datatable"></div>
                            </div>
                            <div class="tab-pane" id="kt_tabs_7_2" role="tabpanel">
                                <div class="row justify-content-md-center hidden loader-search">
                                    <div class="spinner-grow text-primary" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    <div class="spinner-grow text-primary" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    <div class="spinner-grow text-primary" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                </div>
                                <form action="" class="kt-form kt-form--fit kt-form--label-right territorial-form" id="territorial-form">
                                    <div class="form-group row province">
                                        <label class="col-xl-2 col-lg-2 col-form-label">Province</label>
                                        <div class="col-lg-9 col-xl-8">
                                            <select name="province" id="province" class="form-control">
                                                <option value="">--</option>
                                            </select>
                                        </div>
                                        <button title="Ajouter l'entite" class="btn btn-brand btn-elevate btn-pill btn-add-entite">
                                            <i class="la la-plus-circle no-padding"></i>                            
                                        </button>
                                    </div>
                                    <div class="form-group row ville">
                                        <label class="col-xl-2 col-lg-2 col-form-label">Ville</label>
                                        <div class="col-lg-9 col-xl-8">
                                            <select name="ville" id="ville" class="form-control">
                                                <option value="">--</option>
                                            </select>
                                        </div>
                                        <button title="Ajouter l'entite" class="btn btn-brand btn-elevate btn-pill btn-add-entite">
                                            <i class="la la-plus-circle no-padding"></i>                            
                                        </button>
                                    </div>
                                    <div class="form-group row commune">
                                        <label class="col-xl-2 col-lg-2 col-form-label">Commune</label>
                                        <div class="col-lg-9 col-xl-8">
                                            <select name="commune" id="commune" class="form-control">
                                                <option value="">--</option>
                                            </select>
                                        </div>
                                        <button title="Ajouter l'entite" class="btn btn-brand btn-elevate btn-pill btn-add-entite">
                                            <i class="la la-plus-circle no-padding"></i>                            
                                        </button>
                                    </div>
                                    <div class="form-group row quartier">
                                        <label class="col-xl-2 col-lg-2 col-form-label">Quartier</label>
                                        <div class="col-lg-9 col-xl-8">
                                            <select name="quartier" id="quartier" class="form-control">
                                                <option value="">--</option>
                                            </select>
                                        </div>
                                        <button title="Ajouter l'entite" class="btn btn-brand btn-elevate btn-pill btn-add-entite">
                                            <i class="la la-plus-circle no-padding"></i>                            
                                        </button>
                                    </div>
                                    <div class="form-group row avenue">
                                        <label class="col-xl-2 col-lg-2 col-form-label">Avenue/Rue</label>
                                        <div class="col-lg-9 col-xl-8">
                                            <select name="avenue" id="avenue" class="form-control">
                                                <option value="">--</option>
                                            </select>
                                        </div>
                                        <button title="Ajouter l'entite" class="btn btn-brand btn-elevate btn-pill btn-add-entite">
                                            <i class="la la-plus-circle no-padding"></i>                            
                                        </button>
                                    </div>
                                    <div class="form-group row numero">
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-brand hidden btn-valid">Valider</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="add-entite" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Nouvelle entité administrative</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form action="" class="kt-form kt-form--fit kt-form--label-right add-entite">
                        <div class="form-group">
                            <input type="hidden" class="form-control" name="idEntiteMere">
                            <input type="text" class="form-control" disabled="true" name="libelle_Entite_mere">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="libelle">
                            <input type="hidden" name="type_ea">
                            <input type="hidden" name="type">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-brand btn-add-entite">Valider</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}